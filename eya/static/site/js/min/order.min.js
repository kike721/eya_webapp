function validarForma(a,t){function i(a){var t=a.closest(".input");a.hasClass("error")||(a.addClass("error"),t.addClass("error")),s=!0}function e(a){var t=a.closest(".input");a.removeClass("error"),t.removeClass("error")}t=void 0!==t&&t;var o,r=$(a);o=t?$(a):r.closest("form");var s=!1;return o.find("input").removeClass("error"),o.find(".input").removeClass("error"),o.find('input[type="text"]:not(.form-no-obligatorio),input[type="email"]:not(.form-no-obligatorio),input[type="tel"]:not(.form-no-obligatorio),input[type="number"]:not(.form-no-obligatorio)').each(function(){if(!$(this).val().length>0&&!$(this).hasClass("form-email"))i($(this));else if($(this).hasClass("form-email")){var a=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;a.test($(this).val())?e($(this)):i($(this))}else e($(this))}),o.find("textarea:not(.form-no-obligatorio)").each(function(){!$(this).val().length>0?i($(this)):e($(this))}),o.find(".form-minMax:not(.form-no-obligatorio)").each(function(){var a=$(this);a.val().length!=parseInt(a.attr("maxlength"))&&i($(this))}),o.find('input[type="password"]').each(function(){if(!$(this).val().length>0)i($(this));else if(!$(this).hasClass("form-no-secure")){var a=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{7,}.+$/;a.test($(this).val())?e($(this)):(s=!0,i($(this)))}}),o.find(".form-comparar:not(.error)").each(function(){var a=$(this).data("comparar");$(this).hasClass("form-no-obligatorio")?$(this).hasClass("form-validar-no-vacio")&&$(this).val().length>0&&($(this).val()!=$("#"+a).val()||!$(this).val().length>0)&&(i($(this)),i($("#"+a))):$(this).val()!=$("#"+a).val()||!$(this).val().length>0?(i($(this)),i($("#"+a))):$(this).val()==$("#"+a).val()&&(e($(this)),e($("#"+a)))}),o.find(".form-min").each(function(){var a=$(this),t=a.val().length,e=parseInt(a.data("length"));$(this).hasClass("form-no-obligatorio")?$(this).hasClass("form-validar-no-vacio")&&t>0&&t<e&&i($(this)):t<e&&i($(this))}),o.find(".form-always-invalid").each(function(){i($(this))}),o.find('input[type="checkbox"]').each(function(){if($(this).hasClass("form-obligatorio")){var a="label[for="+$(this).attr("id")+"]";$(this).is(":checked")?e($(a)):i($(a))}}),o.find(".form-check-obligatorio").each(function(){var a=$(this),t=!1;a.find('input[type="checkbox"]').each(function(){$(this).is(":checked")&&(t=!0)}),t?e(a):i(a)}),!s}function soloNumeros(){var a=$(".form-solo-numeros");a.length>0&&a.keypress(function(a){if(8!=a.which&&0!=a.which&&(a.which<46||a.which>57))return!1})}function creditCards(){var a=!1;if($(".cc-number").length>0&&(a=!0,$(".cc-number").payment("formatCardNumber")),a){var t=$.payment.cardType($(".cc-number").val());$(".tarjeta-icon").removeClass("active"),"amex"==t?($(".icon-amex").addClass("active"),$("#input-amex").prop("checked",!0)):"mastercard"==t?($(".icon-mastercard").addClass("active"),$("#input-mastercard").prop("checked",!0)):"visa"==t?($(".icon-visa").addClass("active"),$("#input-visa").prop("checked",!0)):turnOffCards(),$.payment.validateCardCVC($(".cc-cvc").val(),t)?$(".cc-cvc").removeClass("error"):$(".cc-cvc").addClass("error"),$.payment.validateCardExpiry($(".cc-exp").payment("cardExpiryVal"))?$(".cc-exp").removeClass("error"):$(".cc-exp").addClass("error")}}function turnOffCards(){$(".tarjeta-icon").removeClass("active"),$("#input-amex").prop("checked",!1),$("#input-mastercard").prop("checked",!1),$("#input-visa").prop("checked",!1)}var ContactForm=function(){function a(){$(".btnContact").click(function(a){a.preventDefault();var i=$(this);if(!i.hasClass("disable")){var e=validarForma($(this)),o=$(this).closest("form");if(e){var r=$("#loader").find(".loader").clone();o.append(r),r=o.find(".loader");var s=o.parent();s.find(".backResponse");i.addClass("disable"),$.ajax({type:"POST",url:o.attr("action"),data:o.serialize(),headers:{"X-CSRFToken":$("[name='csrfmiddlewaretoken']").val()}}).done(function(a,t,i){200==i.status&&(a.success?($("#popupContactSuccess").addClass("active"),$("body").css("overflow","hidden")):($("#popupError").addClass("active"),$("body").css("overflow","hidden")))}).fail(function(a,t,i){console.log(a.status),console.log(i)}).always(function(){t(o),r.remove()})}}})}function t(a){a.find('input[type="text"],input[type="email"],textarea').each(function(){$(this).val("")})}function i(){a()}return{start:i,clearForm:t}}();$(function(){ContactForm.start()});